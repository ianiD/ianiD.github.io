<style>
.codesnippet {
	background-color:#EEE;
	width:75%;
	max-height:600px;
	margin-bottom:1em;
	margin-left:5em;
	margin-top:1em;
	padding:5px;
	padding-left:1em;
	display:block;
}
code {
	background-color:#EEE;
}
</style>
<h3>V. Initializarea si derularea jocurilor + Primul joc</h3>
<a href="cap4.html">Capitolul IV</a> | <a href="cap5.html">Capitolul VI</a></br></br>
Pana acum am folosit consola si fereastra-ecran a acestei aplicatii. In acest capitol vom folosi cele 2 ferestre negre din partea dreapta.</br>
a) Fereastra de initializare</br>
Aceasta este fereastra de sus. Instructiunile scrise aici vor fi executate o singura data, la inceputul jocului(Ce va fi declansat la apasarea butonului START/RESTART).</br>
Instructiunile de initializare, de obicei, indeplinesc aceste functii: declara variabile(Vezi <a href="cap2.html">Cap. II</a>), incarca resurse(Imagini, nivele, fisiere text,recorduri etc. Vezi <a href="cap6.html">Cap. VI</a>), seteaza stadiul jocului (Vezi <a href="cap7.html">Cap. VII</a>) etc.</br>
b) Fereastra de derulare a jocului</br>
Aceasta este fereastra de jos. Instructiunile scrise aici vor fi executate de 60 de ori pe secunda.</br>
Instructiunile repetate, de obicei, indeplinesc aceste functii(dar nu numai): deseneaza ecranul, calculeaza noile pozitii/informatii ale jucatorului si ale celorlalte entitati, are grija de fizica(daca exista), foloseste coordonatele mouse-ului si tastele apasate etc.</br>
Pentru a confirma codul dintr-o fereastra vom folosi butonul din dreapta ferestrei.</br></br>
Acum, s-ar putea sa fii dezamagit ca acest 'joc' nu o sa fie ceva prea interesant, aproape nici macar un joc, mai mult o aplicatie. Scopul va fi sa desenam un dreptunghi la coordonatele mouse-ului.</br>
Ca si program de initializare nu vom avea nimic.</br>
Scrie in fereastra a doua urmatoarea linie:</br>
<code class="codesnippet">dreptunghi(mouse.x, mouse.y, 10, 10)</code>
Si apoi apasa pe butonul din dreapta. Pentru a porni aplicatia, apasa butonul START/RESTART si misca mouse-ul pe fereastra din stanga-sus.</br>
Acum misca mouse-ul pe ecranul din stanga-sus.</br>
S-ar putea sa fi observat o mica problema: patratele precedente nu sunt sterse. Asta se intampla deoarece noi doar desenam patrate(dreptunghiurile au si latimea si inaltimea = 10), fara sa le stergem.</br>
Aceasta problema se poate rezolva foarte usor adaugand instructiunea <code>sterge()</code> inainte sa desenam dreptunghiul:</br>
<code class="codesnippet">
	sterge()</br>
	dreptunghi(mouse.x, mouse.y, 10, 10)
</code>
Acum apesi butonul din dreapta programului si vei observa schimbarea.</br></br>
O problema minora ar fi ca patratele au coltul de stanga-sus la coordonatele mouse-ului, nu centrul.</br>
Pentru a rezolva, putem schimba a doua linie in:</br>
<code class="codesnippet">
	dreptunghi(mouse.x-5, mouse.y-5, 10, 10)
</code>
Asa desenam dreptunghiul cu 5 pixeli mai sus si cu 5 pixeli mai in stanga, facand ca centrul patratului sa coincida cu pozitia mouse-ului.
<br><br>
<a href="cap4.html">Capitolul IV</a> | <a href="cap5.html">Capitolul VI</a>
